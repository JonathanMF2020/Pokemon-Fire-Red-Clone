[gd_scene load_steps=22 format=3 uid="uid://ctviighrn1v1i"]

[ext_resource type="Script" path="res://scenes/Player/player_main.gd" id="1_qc30y"]
[ext_resource type="Texture2D" uid="uid://3x48r32m8hq4" path="res://assets/sprites/player_sprites/player_walk.png" id="1_uvej8"]
[ext_resource type="Script" path="res://scenes/Player/scripts/player_idle.gd" id="3_e68yo"]
[ext_resource type="Script" path="res://scripts/FiniteStateMachine.gd" id="3_sfvtf"]
[ext_resource type="Script" path="res://scenes/Player/scripts/player_walk.gd" id="4_k6kmp"]

[sub_resource type="Animation" id="Animation_3f5wy"]
resource_name = "front_walk"
length = 0.40001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_iol5d"]
_data = {
"front_walk": SubResource("Animation_3f5wy")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_3mp23"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pecc4"]
atlas = ExtResource("1_uvej8")
region = Rect2(0, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o1jhh"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kxyys"]
atlas = ExtResource("1_uvej8")
region = Rect2(32, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cnycf"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dp8vi"]
atlas = ExtResource("1_uvej8")
region = Rect2(0, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lm75t"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jljte"]
atlas = ExtResource("1_uvej8")
region = Rect2(32, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0lxij"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bx8vk"]
atlas = ExtResource("1_uvej8")
region = Rect2(0, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hv2fo"]
atlas = ExtResource("1_uvej8")
region = Rect2(16, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a82vl"]
atlas = ExtResource("1_uvej8")
region = Rect2(32, 64, 16, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_1qiui"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3mp23")
}],
"loop": false,
"name": &"back_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pecc4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o1jhh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kxyys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o1jhh")
}],
"loop": false,
"name": &"back_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_cnycf")
}],
"loop": false,
"name": &"front_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dp8vi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lm75t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jljte")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lm75t")
}],
"loop": false,
"name": &"front_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0lxij")
}],
"loop": false,
"name": &"side_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bx8vk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hv2fo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a82vl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hv2fo")
}],
"loop": false,
"name": &"side_walk",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ol61"]
size = Vector2(16, 16)

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("ray", "sprite") groups=["Player"]]
z_as_relative = false
collision_layer = 5
collision_mask = 4
safe_margin = 0.001
script = ExtResource("1_qc30y")
ray = NodePath("RayCast2D")
sprite = NodePath("PlayerSprite")

[node name="RayCast2D" type="RayCast2D" parent="."]
position = Vector2(8, -8)
target_position = Vector2(0, 10)

[node name="FSM" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_sfvtf")
initial_state = NodePath("PlayerIdle")

[node name="PlayerIdle" type="Node" parent="FSM"]
script = ExtResource("3_e68yo")

[node name="PlayerWalk" type="Node" parent="FSM"]
script = ExtResource("4_k6kmp")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../PlayerSprite")
libraries = {
"": SubResource("AnimationLibrary_iol5d")
}

[node name="PlayerSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -32)
sprite_frames = SubResource("SpriteFrames_1qiui")
animation = &"front_walk"
centered = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(8, -8)
shape = SubResource("RectangleShape2D_7ol61")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)

[connection signal="mouse_shape_entered" from="." to="." method="_on_mouse_shape_entered"]
